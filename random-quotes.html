<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random Quotes</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link href='https://fonts.googleapis.com/css?family=Niconne' rel='stylesheet' type='text/css'>
</head>
<body>


<div class="card card-rounded">

  <div class="card_header">
    <img src="" alt="" class="card_img-quote">
  </div>
  
  <div class="card_body">
    <blockquote id="quote" class="card_quote">
    </blockquote>
    <h2 class="card_author"></h2>
    <div class="card_share" id="tweetBtn">


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div>
    <button class="btn btn-random"><i class="fa fa-refresh"></i></button>
  </div>
  
</div>


<script>

function randomQuotes() {

  var quotes = [
    {
      id: "01", 
      quote:"The best preparation for tomorrow is doing your best today.",
      author:"H. Jackson Brown, Jr."
    },
    {
      id: "02", 
      quote:"Start by doing what's necessary; then do what's possible; and suddenly you are doing the impossible.",
      author:"Francis of Assisi"
    },
    {
      id: "03", 
      quote:"The best and most beautiful things in the world cannot be seen or even touched - they must be felt with the heart.",
      author:"Helen Keller"
    },
    {
      id: "04", 
      quote:"I can't change the direction of the wind, but I can adjust my sails to always reach my destination.",
      author:"Jimmy Dean"
    },
    {
      id: "05", 
      quote:"Perfection is not attainable, but if we chase perfection we can catch excellence.",
      author:"Vince Lombardi"
    },
    {
      id: "06", 
      quote:"Try to be a rainbow in someone's cloud.",
      author:"Maya Angelou"
    },
    {
      id: "07", 
      quote:"I believe in living today. Not in yesterday, nor in tomorrow.",
      author:"Loretta Young"
    },
    {
      id: "08", 
      quote:"We must let go of the life we have planned, so as to accept the one that is waiting for us.",
      author:"Joseph Campbell"
    },
    {
      id: "09", 
      quote:"Nothing is impossible, the word itself says 'I'm possible'!",
      author:"Audrey Hepburn"
    },
    {
      id: "10", 
      quote:"If opportunity doesn't knock, build a door.",
      author:"Milton Berle"
    }
  ];

  var ran = Math.floor((Math.random() * quotes.length -1) + 1);
  
  var resultQuote = quotes[ran]["quote"];
  var resultAuthor = quotes[ran]["author"];

  var restrainStr = "";

  $( ".card_quote" ).text(resultQuote);
  $( ".card_author" ).text(resultAuthor);


  if(resultQuote.length > 140) {
    restrainStr = resultQuote.slice(0,137) + "...";
  } else {
    restrainStr = resultQuote;
  }

  $('#tweetBtn iframe').remove();
  var tweetBtn = $('<a></a>')
      .addClass('twitter-share-button')
      .attr('href', 'http://twitter.com/share')
      .attr('data-text', restrainStr);
  $('#tweetBtn').append(tweetBtn);
  
    
  console.log(ran);
  console.log(resultQuote.length);
  
}

randomQuotes();

$(".btn-random").click(function(e){
  e.preventDefault();

  randomQuotes();
  twttr.widgets.load();
});


// function pushArray(arr) {
//   console.log(arr.length);

//   var store = [];

//   for(var i = 0; i < arr.length; i++){
//     var test = arr[i];

//     console.log("test: " +test);

//     if( test != 2 ){

//       store.push(arr[i]);
//     }
//   }



//   console.log(store);
// }

// pushArray([2,3,5,6]);

</script>
</body>
</html>